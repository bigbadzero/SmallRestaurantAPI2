2021-06-07 09:43:55.862 -05:00 [INF] Application Is Starting
2021-06-07 09:43:56.800 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 09:43:57.053 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 09:43:57.053 -05:00 [INF] Hosting environment: Development
2021-06-07 09:43:57.053 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 09:43:57.084 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger - -
2021-06-07 09:43:57.156 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 09:43:57.173 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger - - - 301 - - 90.3369ms
2021-06-07 09:43:57.231 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 74.3071ms
2021-06-07 09:43:57.239 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/swagger-ui.css - -
2021-06-07 09:43:57.241 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/swagger-ui-bundle.js - -
2021-06-07 09:43:57.241 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/swagger-ui-standalone-preset.js - -
2021-06-07 09:43:57.274 -05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-06-07 09:43:57.274 -05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-06-07 09:43:57.276 -05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-06-07 09:43:57.276 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/swagger-ui.css - - - 200 142933 text/css 36.8478ms
2021-06-07 09:43:57.279 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 38.1043ms
2021-06-07 09:43:57.289 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 48.1103ms
2021-06-07 09:43:57.388 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 09:43:57.460 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 72.5669ms
2021-06-07 09:46:19.940 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 172
2021-06-07 09:46:19.943 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:46:19.970 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:46:19.998 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:46:20.256 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 254.6671ms
2021-06-07 09:46:20.257 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:46:20.258 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:46:20.302 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 172 - 500 - text/plain 363.1068ms
2021-06-07 09:46:31.615 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 172
2021-06-07 09:46:31.615 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:46:31.616 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:46:31.616 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:46:31.618 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 1.7802ms
2021-06-07 09:46:31.619 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:46:31.619 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:46:31.621 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 172 - 500 - text/plain 6.0099ms
2021-06-07 09:46:59.251 -05:00 [INF] Application Is Starting
2021-06-07 09:47:00.331 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 09:47:00.580 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 09:47:00.580 -05:00 [INF] Hosting environment: Development
2021-06-07 09:47:00.580 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 09:47:00.606 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 09:47:00.692 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 87.9669ms
2021-06-07 09:47:00.827 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 09:47:00.901 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 73.8515ms
2021-06-07 09:49:24.611 -05:00 [INF] Application Is Starting
2021-06-07 09:49:25.795 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 09:49:26.046 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 09:49:26.046 -05:00 [INF] Hosting environment: Development
2021-06-07 09:49:26.046 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 09:49:26.074 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 09:49:26.154 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 81.8277ms
2021-06-07 09:49:26.236 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 09:49:26.340 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.2787ms
2021-06-07 09:50:55.106 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170
2021-06-07 09:50:55.110 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:50:55.136 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:50:55.162 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:50:55.463 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 298.0633ms
2021-06-07 09:50:55.464 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:50:55.465 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:50:55.502 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170 - 500 - text/plain 397.6813ms
2021-06-07 09:51:35.421 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170
2021-06-07 09:51:35.458 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:51:35.459 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:35.459 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:51:35.468 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 8.8322ms
2021-06-07 09:51:35.468 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:35.469 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:51:35.470 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170 - 500 - text/plain 49.0994ms
2021-06-07 09:51:48.292 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170
2021-06-07 09:51:48.292 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:51:48.292 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:48.293 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:51:48.299 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 5.9631ms
2021-06-07 09:51:48.299 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:48.299 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:51:48.301 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170 - 500 - text/plain 8.9097ms
2021-06-07 09:51:50.263 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170
2021-06-07 09:51:50.264 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:51:50.264 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:50.264 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:51:50.265 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 0.8373ms
2021-06-07 09:51:50.265 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:51:50.265 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:51:50.266 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 170 - 500 - text/plain 3.0938ms
2021-06-07 09:58:06.350 -05:00 [INF] Application Is Starting
2021-06-07 09:58:07.476 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 09:58:07.729 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 09:58:07.729 -05:00 [INF] Hosting environment: Development
2021-06-07 09:58:07.729 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 09:58:07.758 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 09:58:07.845 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 88.1479ms
2021-06-07 09:58:07.921 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 09:58:07.986 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 64.7861ms
2021-06-07 09:58:42.616 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 127
2021-06-07 09:58:42.620 -05:00 [INF] CORS policy execution successful.
2021-06-07 09:58:42.644 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:58:42.671 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 09:58:42.973 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 298.5309ms
2021-06-07 09:58:42.974 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 09:58:42.975 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[SmallRestaurantAPI.Data.ApiUser]' while attempting to activate 'SmallRestaurantAPI.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 09:58:43.009 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 127 - 500 - text/plain 394.3173ms
2021-06-07 10:03:24.169 -05:00 [INF] Application Is Starting
2021-06-07 10:03:24.810 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 10:03:24.987 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 10:03:24.987 -05:00 [INF] Hosting environment: Development
2021-06-07 10:03:24.987 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 10:03:25.016 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 10:03:25.104 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 89.8037ms
2021-06-07 10:03:25.190 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 10:03:25.254 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 64.1631ms
2021-06-07 10:03:36.449 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 131
2021-06-07 10:03:36.453 -05:00 [INF] CORS policy execution successful.
2021-06-07 10:03:36.479 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 10:03:36.506 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 10:03:56.033 -05:00 [INF] Registration Attempt for user@example.com
2021-06-07 10:04:16.181 -05:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2021-06-07 10:04:29.394 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-06-07 10:04:29.425 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 52915.639ms
2021-06-07 10:04:29.426 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 10:04:29.427 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 131 - 400 260 application/json;+charset=utf-8 52978.1808ms
2021-06-07 10:05:52.847 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 149
2021-06-07 10:05:52.849 -05:00 [INF] CORS policy execution successful.
2021-06-07 10:05:52.851 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 10:05:52.851 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 10:06:01.392 -05:00 [INF] Registration Attempt for adamwatson08@gmail.com
2021-06-07 10:06:18.147 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 10:06:19.042 -05:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 10:06:19.097 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-06-07 10:06:19.293 -05:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-06-07 10:06:25.140 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 10:06:25.168 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 10:06:25.234 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 32383.0674ms
2021-06-07 10:06:25.235 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 10:06:25.237 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Role STRING does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at SmallRestaurantAPI.Controllers.AccountController.Register(UserDTO userDTO) in C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI\Controllers\AccountController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-07 10:06:25.319 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 149 - 500 - text/plain 32472.3270ms
2021-06-07 11:00:13.559 -05:00 [INF] Application Is Starting
2021-06-07 11:00:14.280 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 11:00:14.515 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 11:00:14.516 -05:00 [INF] Hosting environment: Development
2021-06-07 11:00:14.516 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 11:00:14.551 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 11:00:14.644 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 94.5641ms
2021-06-07 11:00:14.729 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 11:00:14.798 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 68.9138ms
2021-06-07 11:03:41.457 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 163
2021-06-07 11:03:41.461 -05:00 [INF] CORS policy execution successful.
2021-06-07 11:03:41.487 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 11:03:41.513 -05:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SmallRestaurantAPI.DTOs.UserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 11:03:50.205 -05:00 [INF] Registration Attempt for adamwatson08@gmail.com
2021-06-07 11:04:29.769 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:04:30.541 -05:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 11:04:30.590 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-06-07 11:04:30.753 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-06-07 11:04:33.401 -05:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 11:04:33.451 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-06-07 11:04:33.478 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 11:04:33.508 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 11:04:33.542 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-06-07 11:04:33.573 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-06-07 11:04:33.604 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 11:04:33.650 -05:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-06-07 11:04:33.716 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-06-07 11:04:33.739 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-06-07 11:04:33.787 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-06-07 11:04:36.464 -05:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-06-07 11:04:36.467 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI) in 54951.1591ms
2021-06-07 11:04:36.467 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Register (SmallRestaurantAPI)'
2021-06-07 11:04:36.472 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/register application/json-patch+json 163 - 202 0 - 55017.5429ms
2021-06-07 11:44:28.745 -05:00 [INF] Application Is Starting
2021-06-07 11:44:30.009 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 11:44:30.257 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 11:44:30.257 -05:00 [INF] Hosting environment: Development
2021-06-07 11:44:30.257 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 11:44:30.285 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 11:44:30.383 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 98.9346ms
2021-06-07 11:44:30.472 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 11:44:30.542 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.3020ms
2021-06-07 11:45:09.608 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58
2021-06-07 11:45:09.612 -05:00 [INF] CORS policy execution successful.
2021-06-07 11:45:09.639 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:45:09.665 -05:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SmallRestaurantAPI.DTOs.LoginUserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 11:45:14.351 -05:00 [INF] Login Attempt for adamwatson08@gmail.com
2021-06-07 11:45:17.580 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:45:18.386 -05:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 11:45:22.878 -05:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-06-07 11:45:23.020 -05:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-06-07 11:45:23.054 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI) in 13385.4742ms
2021-06-07 11:45:23.055 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:45:23.059 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58 - 202 385 application/json;+charset=utf-8 13454.0864ms
2021-06-07 11:48:41.031 -05:00 [INF] Application Is Starting
2021-06-07 11:48:41.701 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 11:48:41.872 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 11:48:41.873 -05:00 [INF] Hosting environment: Development
2021-06-07 11:48:41.873 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 11:48:41.903 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 11:48:42.000 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 98.5965ms
2021-06-07 11:48:42.086 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 11:48:42.153 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.0022ms
2021-06-07 11:48:59.981 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/api/Combo - -
2021-06-07 11:49:00.008 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-07 11:49:00.128 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-07 11:49:00.129 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/api/Combo - - - 401 - - 150.5610ms
2021-06-07 11:50:04.904 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/api/Combo/2 - -
2021-06-07 11:50:04.909 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.ComboController.GetCombo (SmallRestaurantAPI)'
2021-06-07 11:50:04.937 -05:00 [INF] Route matched with {action = "GetCombo", controller = "Combo"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCombo(Int32) on controller SmallRestaurantAPI.Controllers.ComboController (SmallRestaurantAPI).
2021-06-07 11:50:05.711 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:50:05.917 -05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-06-07 11:50:06.419 -05:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[CategoryID], [t].[ComboNumber], [t].[ComboSizeOverride], [t].[Description], [t].[DrinkID], [t].[EntreeID], [t].[Name], [t].[SideID], [t].[SizeID], [t].[ID0], [t].[CategoryID0], [t].[Description0], [t].[Name0], [t].[SizeID0], [t0].[ID], [t0].[EntreeID], [t0].[IngredientID], [t0].[isRequired], [t0].[ID0], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[EntreeID], [t1].[IngredientID], [t1].[ID0], [t1].[Description], [t1].[Name], [t2].[ID], [t2].[EntreeID], [t2].[SizeID], [t2].[ID0], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[ID], [c].[CategoryID], [c].[ComboNumber], [c].[ComboSizeOverride], [c].[Description], [c].[DrinkID], [c].[EntreeID], [c].[Name], [c].[SideID], [c].[SizeID], [e].[ID] AS [ID0], [e].[CategoryID] AS [CategoryID0], [e].[Description] AS [Description0], [e].[Name] AS [Name0], [e].[SizeID] AS [SizeID0]
    FROM [Combos] AS [c]
    INNER JOIN [Entrees] AS [e] ON [c].[EntreeID] = [e].[ID]
    WHERE ([c].[ID] = @__id_0) AND ([c].[ID] = @__id_0)
) AS [t]
LEFT JOIN (
    SELECT [e0].[ID], [e0].[EntreeID], [e0].[IngredientID], [e0].[isRequired], [i].[ID] AS [ID0], [i].[Description], [i].[Name]
    FROM [EntreeBaseIngredients] AS [e0]
    INNER JOIN [Ingredients] AS [i] ON [e0].[IngredientID] = [i].[ID]
) AS [t0] ON [t].[ID0] = [t0].[EntreeID]
LEFT JOIN (
    SELECT [e1].[Id], [e1].[EntreeID], [e1].[IngredientID], [i0].[ID] AS [ID0], [i0].[Description], [i0].[Name]
    FROM [EntreeAddons] AS [e1]
    INNER JOIN [Ingredients] AS [i0] ON [e1].[IngredientID] = [i0].[ID]
) AS [t1] ON [t].[ID0] = [t1].[EntreeID]
LEFT JOIN (
    SELECT [e2].[ID], [e2].[EntreeID], [e2].[SizeID], [s].[ID] AS [ID0], [s].[Name]
    FROM [EntreeSizes] AS [e2]
    INNER JOIN [Sizes] AS [s] ON [e2].[SizeID] = [s].[ID]
) AS [t2] ON [t].[ID0] = [t2].[EntreeID]
ORDER BY [t].[ID], [t].[ID0], [t0].[ID], [t0].[ID0], [t1].[Id], [t1].[ID0], [t2].[ID], [t2].[ID0]
2021-06-07 11:50:06.487 -05:00 [INF] Executing OkObjectResult, writing value of type 'SmallRestaurantAPI.DTOs.ComboOptionsDTO'.
2021-06-07 11:50:06.604 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.ComboController.GetCombo (SmallRestaurantAPI) in 1664.122ms
2021-06-07 11:50:06.604 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.ComboController.GetCombo (SmallRestaurantAPI)'
2021-06-07 11:50:06.608 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/api/Combo/2 - - - 200 1561 application/json;+charset=utf-8 1703.6820ms
2021-06-07 11:51:17.929 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58
2021-06-07 11:51:17.931 -05:00 [INF] CORS policy execution successful.
2021-06-07 11:51:17.932 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:51:17.938 -05:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SmallRestaurantAPI.DTOs.LoginUserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 11:51:17.985 -05:00 [INF] Login Attempt for adamwatson08@gmail.com
2021-06-07 11:51:18.008 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:51:18.046 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 11:51:18.139 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-06-07 11:51:18.211 -05:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-06-07 11:51:18.215 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI) in 277.6055ms
2021-06-07 11:51:18.216 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:51:18.217 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58 - 202 385 application/json;+charset=utf-8 289.5201ms
2021-06-07 11:51:27.511 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/api/Combo - -
2021-06-07 11:51:27.511 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-07 11:51:27.511 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-07 11:51:27.512 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/api/Combo - - - 401 - - 1.7374ms
2021-06-07 11:51:40.734 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/api/Combo - -
2021-06-07 11:51:40.734 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-07 11:51:40.735 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-07 11:51:40.736 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/api/Combo - - - 401 - - 2.5924ms
2021-06-07 11:53:06.848 -05:00 [INF] Application Is Starting
2021-06-07 11:53:07.500 -05:00 [INF] User profile is available. Using 'C:\Users\adamw\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-07 11:53:07.714 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-07 11:53:07.714 -05:00 [INF] Hosting environment: Development
2021-06-07 11:53:07.714 -05:00 [INF] Content root path: C:\projects\SmallRestaurantAPI2\SmallRestaurantAPI
2021-06-07 11:53:07.748 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/index.html - -
2021-06-07 11:53:07.853 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/index.html - - - 200 - text/html;charset=utf-8 105.7172ms
2021-06-07 11:53:07.954 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - -
2021-06-07 11:53:08.034 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44372/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.6027ms
2021-06-07 11:54:34.141 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58
2021-06-07 11:54:34.145 -05:00 [INF] CORS policy execution successful.
2021-06-07 11:54:34.224 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:54:34.250 -05:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SmallRestaurantAPI.DTOs.LoginUserDTO) on controller SmallRestaurantAPI.Controllers.AccountController (SmallRestaurantAPI).
2021-06-07 11:54:34.595 -05:00 [INF] Login Attempt for adamwatson08@gmail.com
2021-06-07 11:54:35.172 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:54:35.916 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-06-07 11:54:36.064 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-06-07 11:54:36.142 -05:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-06-07 11:54:36.175 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI) in 1921.4065ms
2021-06-07 11:54:36.175 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.AccountController.Login (SmallRestaurantAPI)'
2021-06-07 11:54:36.180 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44372/api/Account/login application/json-patch+json 58 - 202 385 application/json;+charset=utf-8 2040.6094ms
2021-06-07 11:56:09.146 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:44372/api/Entree - -
2021-06-07 11:56:09.155 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.EntreeController.GetEntrees (SmallRestaurantAPI)'
2021-06-07 11:56:09.162 -05:00 [INF] Route matched with {action = "GetEntrees", controller = "Entree"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEntrees() on controller SmallRestaurantAPI.Controllers.EntreeController (SmallRestaurantAPI).
2021-06-07 11:56:09.183 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:56:09.216 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ID], [e].[CategoryID], [e].[Description], [e].[Name], [e].[SizeID]
FROM [Entrees] AS [e]
2021-06-07 11:56:09.232 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SmallRestaurantAPI.DTOs.InitialEntreeDTO, SmallRestaurantAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-07 11:56:09.241 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.EntreeController.GetEntrees (SmallRestaurantAPI) in 78.4367ms
2021-06-07 11:56:09.241 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.EntreeController.GetEntrees (SmallRestaurantAPI)'
2021-06-07 11:56:09.241 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:44372/api/Entree - - - 200 321 application/json;+charset=utf-8 95.4740ms
2021-06-07 11:57:37.681 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:44372/api/Combo - -
2021-06-07 11:57:37.766 -05:00 [INF] Successfully validated the token.
2021-06-07 11:57:37.769 -05:00 [INF] Authorization was successful.
2021-06-07 11:57:37.770 -05:00 [INF] Executing endpoint 'SmallRestaurantAPI.Controllers.ComboController.GetCombos (SmallRestaurantAPI)'
2021-06-07 11:57:37.772 -05:00 [INF] Route matched with {action = "GetCombos", controller = "Combo"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCombos() on controller SmallRestaurantAPI.Controllers.ComboController (SmallRestaurantAPI).
2021-06-07 11:57:37.788 -05:00 [INF] Entity Framework Core 5.0.6 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-07 11:57:37.825 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ID], [c].[CategoryID], [c].[ComboNumber], [c].[ComboSizeOverride], [c].[Description], [c].[DrinkID], [c].[EntreeID], [c].[Name], [c].[SideID], [c].[SizeID]
FROM [Combos] AS [c]
2021-06-07 11:57:37.829 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SmallRestaurantAPI.DTOs.InitialComboDTO, SmallRestaurantAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-07 11:57:37.832 -05:00 [INF] Executed action SmallRestaurantAPI.Controllers.ComboController.GetCombos (SmallRestaurantAPI) in 60.0924ms
2021-06-07 11:57:37.832 -05:00 [INF] Executed endpoint 'SmallRestaurantAPI.Controllers.ComboController.GetCombos (SmallRestaurantAPI)'
2021-06-07 11:57:37.833 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:44372/api/Combo - - - 200 238 application/json;+charset=utf-8 151.9667ms
